# X AI Reply - X 智能回复助手

一个 Tampermonkey 用户脚本，使用 AI 为 X (Twitter) 推文生成智能回复。

## ✨ 功能特性

### 🤖 AI 回复生成
- 支持多种 AI 模型：Claude、GPT、Gemini 系列
- 自定义 API 地址支持（兼容第三方代理）
- 一键生成多条候选回复
- **流式传输**：边生成边显示（可选）
- 实时执行日志显示生成进度

### 📡 渠道管理（新功能）
- **多渠道配置**：保存多个 API 配置
- **一键切换**：快速在不同渠道间切换
- **自动记忆**：保存渠道名称、地址、密钥、模型
- **简化设置**：自动根据模型名检测协议

### 🖼️ 图片理解
- 自动提取推文中的图片
- 支持视觉模型（GPT-4o、Claude 3、Gemini）
- 根据图片内容生成相关回复
- 模型不支持时自动回退到纯文本

### ⚙️ 灵活配置
- **回复数量**：1/2/3/5 条
- **回复长度**：短/中/长
- **回复风格**：吸引关注、幽默搞笑、专业严谨、犀利毒舌、暖心治愈
- **回复策略**：默认、同意热评、提出新观点、平衡讨论、反驳观点
- **语言选择**：自动检测、中文、英文、日文、韩文
- 支持自定义添加/删除风格和策略
- 自动记住上次设置

### 📊 评论区分析
- 自动抓取推文评论区热门回复
- AI 分析评论区主要观点和情绪
- 实时日志显示分析过程
- 根据分析结果生成更符合讨论氛围的回复

### 🌐 智能翻译
- 非中文回复自动附带中文翻译
- 翻译与回复同步生成，无需额外 API 调用
- 中文仅供阅读，实际发送原文

### 📜 历史记录
- 三标签布局：设置 | 结果 | 历史
- 自动保存每条推文的生成记录（含翻译）
- 重新打开面板可查看历史回复
- 最多保留 50 条推文记录

### 💫 UI 体验
- 渐变按钮设计
- 动画加载效果
- 实时执行日志面板
- **失败重试**：生成失败时显示重试按钮

## 📦 安装

1. 安装 [Tampermonkey](https://www.tampermonkey.net/) 浏览器扩展
2. 点击安装脚本或手动添加 `x_ai_reply.user.js`
3. 在 X.com 刷新页面

## ⚙️ 配置

1. 点击 Tampermonkey 菜单中的「⚙️ AI Reply Settings」
2. **渠道管理**：
   - 填写渠道名称（如"Claude 官方"）
   - 填入 API 地址和密钥
   - 选择模型
   - 点击「+ 新建」保存渠道
3. **切换渠道**：下拉选择已保存的渠道
4. 保存设置

## 🎯 使用方法

1. 浏览 X.com 推文
2. 点击推文下方的「🤖 AI」按钮
3. 在设置面板中：
   - 选择回复数量、长度、风格
   - （可选）开启「流式」实时显示
   - （可选）点击「📊 分析评论区热评」
   - 选择回复策略
4. 点击「✨ 生成回复」
5. 查看执行日志了解进度
6. 在结果中选择满意的回复，自动填入回复框

## 📄 License

MIT License
